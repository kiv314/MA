\documentclass[a4paper,11pt]{report}

\author{K.~Kosch}
\title{4 Spieler, 10'000 Runden Poker, in 17 Sekunden - Pokerstrategien simuliert}

\usepackage[ngerman]{babel}
\usepackage[latin1]{inputenc}
\usepackage{blindtext}
\usepackage{graphicx}
\usepackage[center]{caption}
\usepackage{hyperref}
%minimale page header & footer
\usepackage{fancyhdr}
\pagestyle{fancy}
\setlength{\headheight}{14pt} 
\fancyhf{}
\fancyhead[C]{\nouppercase{\leftmark}}
\fancyfoot[C]{\thepage}
%create links in the pdf
\usepackage[colorlinks]{hyperref}

\begin{document}

\maketitle
\tableofcontents
\chapter{Vorwort}
Die Idee für meine Arbeit kam mir während des Besuchs des freiwilligen Kurses unserer Schule zur Unterstüzung bei der Maturaarbeit, dem Roten Faden. Ich wusste schon früh, dass sich meine Arbeit um Informatik handeln sollte, da ich mich schon sehr lange für diesen Fachbereich interessiere. Die Idee Pokerstrategien zu simulieren, kam mir beim Clustern in diesem Kurs. Ich fand die Idee Informatik mit Poker zu kombinieren sehr spannend, da ich mich so mit etwas Alltäglichem und nicht ganz so Abstraktem beschäftigen kann, trotzdem aber einigen Aufwand in die Programmierung stecken muss. Viele meiner Mitschüler haben mich gewarnt, dass das Ganze recht kompliziert werden würde. Sie hatten zum Teil recht, dennoch habe ich es geschafft und dabei sehr viel gelernt. Durch diese Arbeit habe ich überhaupt das erste Mal ein grösseres Projekt in Angriff genommen und objektorientiert programmiert. 
Ich möchte mich bei meiner Betreuungsperson Andreas Umbach für die Unterstüzug bedanken. Durch ihn habe ich viele neue Tools, wie Git und \LaTeX{} gelernt und auch meine Programmierkentnisse und -stil zu verbessert. 
Ein weiteres Dankeschön geht an meine Familie, Freunde und Mitschüler für die nette emotionale Unterstüzung. 
\chapter{Einleitung}
Tausende Pokerpartien gespielt in wenigen Sekunden, so lässt sich das Thema meiner Arbeit zusammenfassen. Es handelt von der Beschreibung, dem Aufbau und der Durchführung eines naturwissenschaftlichen Versuchs, in dem in einem von mir selbst geschriebenem Computer Programm, auch Framework genannt, verschiedene von mir geschriebene Pokertaktiken, tausende Male gegen einander spielen können. Sie erklärt nicht die perfekte Pokerstrategie, sondern zeigt wie ich dieses Framework erstellt habe und welche Ergebnisse meine Versuche zutage brachten. Ich zeige, wie mein Code genau funktioniert, beziehungsweise erkläre, wie ich ihn geschrieben habe. Diese Arbeit richtet sich an Leute, die das Pokerspiel (Texas Holdem, no Limit) kennen. Falls dies nicht der Fall sein sollte, kann ich das Buch: Die Pokerschule von Jan Meinert \cite{diePokerschule} als Lektüre empfehlen. Programmierkenntnise sind von Vorteil, aber nicht unbedingt nötig, da ich den Code erkläre. Die Fragen, die ich beantworten will, sind zum einen: Ist es möglich, Pokerstrategien zu simulieren, damit man so die Möglichkeit hat, herauszufinden, wie gut sie gegeneinander abschneiden? Testen werde ich dies, in dem ich die 4 typischen Pokerstrategien, die im Buch: die Pokerschule \cite{diePokerschule} beschrieben sind, in meinem Programm gegeneinander antreten lasse. Sollte dies der Fall sein, will ich so herausfinden, bei welchen Bedingungen welche Strategie gewinnt und wie sie im Kampf gegeneinander abschneiden.
Es haben schon andere Personen Poker mit Simulationen verknüpft. Alex Meyer hat so versucht herausfinden, wie stark die Wahrscheinlichkeiten sind mit bestimmten Händen zu gewinnen. \cite{AlexMeyer} Ein Programm, das verschiedene typische Pokerstrategien simuliert, habe ich jedoch nicht gefunden.
\chapter{Theorie}
\section{Poker ein Glücksspiel?}
Ob und wie stark Poker als Glücksspiel gilt, damit haben sich schon viele Leute befasst. Das deutsche Bundesverwaltungsgericht teilte in einem Urteil mit, dass Poker stärker vom Zufall als der Geschicklichkeit des Spielers abhängt \cite{Gluck1}. Trotzdem gibt es einige professionelle Pokerspieler, die damit ihr Einkommen bestreiten. Sie sind bereits mehrmals in die Endrunden von grossen Pokerturnieren gestossen. Da kann man schon darauf schliessen, dass Poker mehr als nur ein Glücksspiel ist. Mit viel Glück könnte ein Anfänger an einem Turnier gegen einen sehr guten Pokerspieler gewinnen, aber nicht mehrmals. Poker enthält Elemente von beidem, einem Glücksspiel aber auch einem taktischen Spiel und vor allem bei den Profis ist die richtige Taktik entscheidend. 2019 ist es einer künstlichen Intelligenz zum ersten Mal gelungen gegen 5 Mitspieler zu gewinnen, und zwar bei Teilnahme von Weltklassespielern. Auch das beweist, dass Poker mehr ist als ein reines Glücksspiel, wie zum Beispiel Roulette.\cite{Gluck2}

\section{Die verschiedenen Poker Strategien}
Die Grundstrategien im Poker nach Jan Meinert\cite{diePokerschule} werden nach 2 Kriterien aufgeteilt, zum einen nach der Tightness und zum anderen nach Aggressivität. Die Tightness gibt an wie oft man an Runden teilnimmt. Je tighter ein Spieler ist, an desto weniger Runden nimmt er teil. Als Richtwert für eine normale Tightness gilt 30\%, also man sollte am Ende bei 30\% aller Runden dabei gewesen sein und beim Rest den Pre-Flop folden. Spielt ein Spieler mehr als 30\% der Pre-Flops dann spielt er loose, also das Gegenteil von Tight. Die Aggressivität gibt an wie aggressiv oder eben defensiv sich ein Spieler verhält. Ein aggressiver Spieler erhöht oft und stark, er will das Spiel also kontrollieren. Der defensivere Spieler hält sich lieber zurück, er geht lieber mit und lässt die anderen Spieler für sich erhöhen. Durch diese 2 Eigenschaften kommt man auf folgende 4 Pokerstrategien:

\begin{figure}[h!]
\begin{center}
\includegraphics[width=\textwidth ]{TaktikGrafik.png}
\end{center}
\caption{Selbsterstellte Grafik aus lizenzfreien Bildern}\label{taktikgrafik}
\end{figure}
\subsection{The Stonekiller, tight-aggressive} 
Der Stonekiller spielt nur die sehr guten Hände und Blätter, aber wettet bei diesen sehr hoch. Wenn er seine gute Hand spielt, dann gewinnt er meistens den Pot. Diese Taktik gilt in vielen Kreisen als die beste Pokertaktik, da sie wenig Risiko verlangt. Weitere Vorteile sind, dass man mit dieser Taktik gut bluffen kann, denn durch die tighte Spielweise glauben die Gegner, dass man nur die guten Blätter spielt. Die Entscheidungsfindung ist auch nicht so schwierig, da man nur die sehr guten und seltenen Blätter spielt. Trotzdem hat diese Taktik auch ihre Nachteile. Vor allem bei no Limit Spielen kann es passieren, dass man vermeintlich die beste Hand hat und so zum Beispiel bei einem All-in ziemlich auf die Nase fallen kann, wenn ein Mitspieler durch Glück ein besseres passendes Blatt erhält. Ein weiterer Nachteil ist, dass man bei einer Pechsträne lange keine guten Hände bekommt.  

\subsection{The Rock, tight-defensive}
Der Rock spielt auch sehr tight, dazu aber auch noch sehr defensiv. Er spielt weniger als 25\% der Hände und hält, bzw. geht lieber mit, statt selbst zu erhöhen. Er blufft auch fast nicht, da ihm dies zu risikoreich erscheint. Diese Taktik hat den Vorteil, dass man nur geringe Verluste einfährt und konstant kleine Pots gewinnt. Langfristig ist diese Taktik nicht gewinnbringend, da man schlichtwegs zu wenig verdient. Trotzdem kann es helfen, diese Taktik phasenweise einzusetzen, wenn man sich nach einer grösseren Verlustphase wieder stabilisieren muss.

\subsection{The Maniac, loose-aggressive}
Der Maniac spielt viele Blätter und Hände und erhöht oft. Man hat beinahe den Eindruck seine Hand sei ihm egal. Dies führt dazu, dass die anderen Spieler sehr verunsichert werden, denn seine Hand lässt sich nicht einschätzen. Wenn dieser Spieler in den Showdown kommt, hat er meistens nicht die beste Hand. Er kann trotzdem gutes Geld verdienen in dem er die anderen Spieler zum aufgeben drängt. Dennoch ist diese Taktik am Anfang, wenn noch viele Spieler im Spiel sind, nicht sehr sinnvoll, denn in den meisten Fällen hat jemand eine bessere Hand. Diese Taktik wird oft von anderen Spielern gehasst, da man so gut wie keine Ahnung über die Hand hat. Die Vorteile sind demnach zum einen, dass grosse Pots gewonnen werden können, zum anderen die Gegner verunsichern zu können und ausserdem müssen andere Spieler viel zahlen um weitere Karten zu sehen. Die Nachteile sind dafür, dass das eigene Geld sehr schnell steigt und auch sinkt und man im schlimmsten Fall früh ausscheidet, da man im Showdown meistens eine schlechtere Hand hat. Diese Spielweise ist sehr schwierig und gefährlich, kann aber trotzdem, phasenweise eingesetzt, sehr lukrativ sein um sich ein gewisses Image zu geben oder eben seine Genger zu verunsichern.

\subsection{The Callingstation, loose-defensive}    
Diese Taktik ist die schlechteste von allen und sollte eigentlich nicht gespielt werden. Dieser Spieler spielt viele Blätter und Hände, auch wenn sie nicht ganz so gut sind, aber ohne aggressiv zu erhöhen. Wie der Name schon sagt, geht dieser Spieler gerne mit, erhöht aber sehr selten. Wenn dieser Spieler ein Blatt spielt, wird er es fast immer bis zum Showdown durchziehen. Da dieser Spieler sehr selten rausgeht, sollte man gegen diese Spielweise keinen Bluff einsetzen, denn der Call ist der Tod eines jeden Bluffs. Durch eine passive Spielweise wird zu wenig Geld verdient und dazu durch vieles Mitgehen viel Geld verloren. Die Callingstation ist für jeden Pokerspieler fast schon eine Goldgrube, trotzdem sollte man aufpassen, denn auch diese Spielweise kann mal den Pot gewinnen.
\\ \\
Trotz diesen Taktiken ist die wichtigste Taktik im Poker, keine genaue Taktik zu haben. Wenn man ein bestimmtes Schema spielt und ein anderer Spieler dies erkennt, dann ist man für diesen wie ein offenes Buch. Deswegen sollte man immer wieder seine Spielweise verändern. Es ist wichtig, dass diese Taktiken auf keinen Fall statisch sind. 

\chapter{Methode}
\section{Monte-Carlo-Simulation}
Mein Projekt ist im Grunde genommen eine Monte-Carlo-Simulation. Dies ist im Prinzip ein Versuch, eine Wahrscheinlichkeit oder ein Ergebnis zu bestimmen, zum Beispiel die Frage: Wie hoch ist die Wahrscheinlichkeit mit einem normalen Würfel eine 6 zu würfeln? Diese Frage lässt sich ganz einfach mit dem \glqq La Place\grqq Ansatz beantworten: die 6 als günstiges Ereignis und die andern Zahlen als mögliche, führt zu einer Wahrscheinlichkeit von $\frac{1}{6}$. Dies ist sozusagen eine rechnerische Methode, im Gegensatz zur Monte-Carlo-Simulation, denn ihr Versuch wäre einfach ganz oft zu würfeln und dann zu zählen, wie oft die 6 gekommen wäre. Bei genügend vielen Wiederholungen kommt man auch ziemlich genau an $\frac{1}{6}$ als Ergebnis heran. \cite{MonteCarloSimulation}

Diese Methode mag auf den ersten Blick ein wenig zufällig und dazu noch sehr aufwändig erscheinen, aber genau das ist ihre Stärke. Ein komplexeres Problem, wie in meinem Fall die verschiedenen Pokerstrategien, lässt sich mathematisch gar nicht mehr ausrechnen, aber mit Hilfe eines Versuchs hingegen ist es möglich eine Lösung zu finden. Ein analoger Versuch wäre natürlich sehr aufwändig, aber zum Glück gibt es Computer, denn deren Stärke liegt darin einfache, dafür sehr aufwändige Probleme repetitiv zu lösen. Mit Computern lassen sich Versuche in kurzer Zeit tausende Male wiederholen. \cite{MonteCarloSimulation}. Die Monte-Carlo-Simulation bildet also eine Problemsituation im Computer ab und spielt sie so viele Male durch und gibt danach ein Ergebnis aus. Je mehr Simulationen durchgeführt werden, desto genauer wird das Ergebnis. Viele grosse Finanzunternehmen benutzen solche Simulationen für die Risikoanaylse oder der weiterer Entwicklung ihrer internen Modelle zur Berechnung des Solvency Capital Ratio.
Somit ist die Monte-Carlo-Simulation perfekt geeignet um herauszufinden, wie sich verschiedene Pokerstrategien verhalten, wenn sie gegeneinander antreten.
Um aber so eine Simulation durchführen zu können, muss natürlich erst mal ein komplettes Pokerspiel programmiert werden!

\section{Java}
Zum Programmieren verwendete ich Java mit Eclipse. Die Gründe waren hierfür zum einen, dass ich diese Sprache schon kannte, zum anderen ist sie relativ einfach, sicher und robust. Ausserdem kann man mit ihr objektorientiert programmieren. Dies eignet sich gut für die Spieler und die Karten, da man sie miteinander in Interaktion treten lassen kann.

\section{Gerüst}
Das Gerüst oder der Hauptteil des Codes ist in einer Schleife\cite[hauptclass z. 8-124]{MeinGit}, die eine Pokerrunde darstellt. Diese Schleife wird so viele Male wiederholt, wie man das bei der Variable n eingegeben hat. In der Schleife werden zuerst die Karten gemischt. Darauffolgend werden die Spieler in die Runde gesetzt, die Karten verteilt, die Blinds abkassiert und danach führt jeder Spieler seinen Zug aus, also entweder rausgehen (fold), halten (check), mitgehen (call) oder erhöhen (raise). Beim Flop werden die drei Tischkarten aufgedeckt. Danach dürfen die Spieler wieder ihre Züge ausführen und es folgen der Turn und der River. Am Schluss wird ausgewertet, wer das beste Blatt hat und so der oder die Gewinner bestimmt. Diesen wird dann ihr Pot zugesprochen. Wenn ein Spieler kein Geld mehr hat spielt er nicht mehr mit. Ganz am Schluss wird die Reihenfolge der Spieler noch um eins verschoben, damit nicht immer der gleiche Spieler anfängt. 

\section{Karte}
Für die Karten, bzw den Kartenstapel, kreierte ich ein Objekt namens Card \cite[Card]{MeinGit} mit den Eigenschaften Farbe, Nummer und Wert. Die Farben sind die 4 möglichen französischen Spielkartenfarben: Herz(H), Karo(D), Pik(S) und Kreuz(C) und in dieser Reihenfolge nummeriert von 0 bis 3. Die Kartennummern sind von 1 mit dem Ass aufsteigend bis zur 13 für den König nummeriert. Die Eigenschaft Wert ist genau gleich wie die Eigenschaft Nummer, ausser beim Ass, denn das hat den Wert 14, da es in den meisten Fällen den grössten Wert hat. Mit diesem Datentyp wird ein Array (ein Array ist eine Liste in der Variablen zusammengefügt und mit einer Nummer vermerkt sind) erzeugt aus 52 Elementen, nummeriert von 0-51. In einer Schleife wird dann mithilfe von Modulo Operationen, also dem Rest vom Ergebnis einer Division die Nummer oder die Farbe zugeordnet. z.B Karte Nummer 51 ist demnach 51 mod. 4 = 3, also Kreuz und für die Nummerierung 51 mod. 13 = 12, wenn man da noch +1 rechnet (da die Kartennummer 0 nicht existiert) ergibt sich 13 und somit ein König. Die Karte 51 ist also $\clubsuit König $.\cite[hauptclass z.11-15]{MeinGit}
Um die Karten zu mischen habe ich die Funktion arrayMix\cite[hauptclass z. 302]{MeinGit} geschrieben, diese Funktion ändert zufällig die Reihenfolge in dem Array der Karten und \glqq mischt\grqq   sie so. Wie gut zufällig das ist, lässt sich nicht genau sagen, denn Computer können fast keine echten Zufälle erzeugen.\cite{Pseudozufall} Dennoch ist es \glqq zufällig\grqq  genug, denn beim Testen in wie vielen Fällen eine bestimmte Hand vorkommt, habe ich die gleichen Ergebnisse bekommen wie mathematisch errechnet.
Um zu wissen um was für eine Karte es sich handelt, habe ich die Funktion tellCard geschrieben. Diese Funktion\cite[hauptclass z.250]{MeinGit} gibt die Karte als Text aus. In dieser Funktion wird zuerst der Farbentyp abgefragt und dem entsprechenden Buchstaben zugeordnet. Als zweites wird die Kartennummer herausgefunden, diese wird aber noch geprüft, ob es sich nicht um ein Ass, König, Dame oder Junge handelt und falls dies der Fall ist, wird das in die Ausgabe vermerkt. So wird dann aus der Karte mit Farbe 0 und Nummer 13 der Text \glqq HK\grqq ausgegeben für Herz-König.  

\section{Tischklasse}
Die Klasse Table ist sozusagen der Pokertisch. Hier sind unter anderem die Tischkarten vermerkt, wie hoch die Wetten und die Blinds sind und ob man noch erhöhen kann, da in meiner Version die Spieler nur beim ersten Mal in der Wettrunde die Möglichkeit haben zu erhöhen und somit beim 2. Mal nur noch mitgehen oder rausgehen können. Es wird hier auch der aktuelle Spielfortschritt der Runde vermerkt, also ob es sich um den Pre-Flop, Flop, etc. handelt. Das wichtigste Feature dieser Klasse ist, zu erkennen welcher oder welche Spieler die Runde und somit den Pot gewonnen haben. Um das zu machen zu können, muss man in der Lage sein, alle möglichen Hände der Spieler zu haben, alle diese Hände sortieren zu können und diese zu bewerten.

\subsection{Alle Hände finden und sortieren}   
Wieso muss ich mehrere Hände finden, denn jeder Pokerspieler hat ja nur eine Gewinnhand? Das Problem ist, dass beim Texas Holdem beim Showdown fünf Tischkarten liegen und man diese mit seinen 2 Pocketkarten zur besten Hand kombinieren kann. Das heisst um herauszufinden wer gewonnen hat, muss man zuerst von jedem Spieler die bestmögliche Hand finden und um das zu schaffen, muss man erst alle möglichen Hände des Spielers finden. Mathematisch mit Kombinatorik betrachtet, muss man herausfinden wieviele verschiedene Möglichkeiten es gibt aus 7 Karten 5 herauszuziehen. Dies löst sich mathematisch wie folgt: $\frac{7\cdot 6\cdot 5\cdot 4\cdot 3}{1\cdot 2\cdot 3\cdot 4\cdot 5}=21$. Somit kann mit den beiden Pocketkarten zusammen und 3 weiteren Tischkarten 10 verschiedene Kombinationen bilden. Mit einer Pocketkarte kann ich je 5 weitere Kombinationen bilden, macht also zusammen 10 weitere zusätzliche Kombinationen. Dazu kommt noch die eine letzte Möglichkeit. Und zwar alle Tischkarten miteinander zu nehmen $10+5+5+1=21$. Alle diese Hände zu finden und diese zusammenzufügen, ist die Aufgabe der Funktion HaendeVonSpieler\cite[Table z.32]{MeinGit}. Als Input bekommt die Funktion das Blatt des Spielers in Form eines Arrays des Datentyp Card und ein zweites Array mit den Tischkarten. Ausgegeben wird ein 2-dimensionales Array, wieder des Datentypes Card, das im Inneren aus je 5 Karten besteht, also eine Hand und dann das Ganze 21-mal für die verschiedenen Hände. Diese 21 Hände musste ich im Code selbst manuell erstellen. Das ganze sieht dann so aus, tk sind die verschiedenen Tischkarten, nummeriert von 0-4 und Blatt 0 oder 1, die Handkarten: 
\begin{figure}[h!]
\begin{center}
\includegraphics[width=164mm]{HaendeVonSpieler.png}
\end{center}
\caption{Screenshot aus meinem Code}\label{screenshotCode}
\end{figure}

\subsection{Hände sortieren}
Um eine Hand bewerten zu können, muss man sie sortieren, denn nur so kann man erkennen wie viel Wert sie hat. Sortiert wird nach dem Wert der Karten, also das Ass zuvorderst und danach absteigend bis zur Zwei die anderen Karten. Auf die Farbe wird keine Rücksicht genommen, da sie nur den Wert der Hand ausmachen, wenn sie alle zusammen die gleiche sind. Sortiert werden die Karten in der Funktion sortCards\cite[Table z.107]{MeinGit}. Als Input werden die Karten in Form eines Arrays mit dem Namen \glqq alte Karten\grqq  eingefügt. In der Funktion wird ein neues leeres Array erstellt, namens: \glqq sortiert\grqq. Durch eine Schleife wird zuerst jede Karte überprüft, ob sie anhand ihrer Nummer ein Ass ist. In diesem Fall wird sie ins Array sortiert und zuvorderst eingetragen. Dies wird nun mit dem König und allen weiteren Werten wiederholt. Am Ende wird das sortierte Array ausgegeben. Um alle möglichen Hände des Spielers zu sortieren, wird die vorhin erwähnte Funktion in einer anderen Funktion, namens sortHands, durch eine weitere Schleife 21-mal für jede mögliche Hand aufgerufen.

\subsection{Bewertung}
Nun können wir die sortierte Hand, bzw die Hände, bewerten. Dies geschieht in der Funktion sortHands\cite[Table z.137]{MeinGit}. Die Funktion gibt der Hand eine Zahl, je grösser diese ist, desto wertvoller ist die Hand. Der maximale ScoreWert, also der Wert für die beste Hand, den Royalflush, ist $14\cdot 10^{9}$. Als erstes wird aber die Variable für diesen scoreWert erstellt, die auch so heisst. Danach wird überprüft, ob der Spieler überhaupt noch in der Runde ist, wenn nicht, erhält er den scoreWert 0. Als nächstes wird auf einen Streetflush bzw Royalflush geprüft, ob alle Karten die gleiche Farbe haben und absteigend, also als Strasse vorkommen. Der ScoreWert wird berechnet, in dem der Wert der höchsten Karte dieser Hände mit $10^{9}$multipliziert wird. Jetzt wird noch überprüft, ob ein Wheel Flush, also zB. $\heartsuit 5, \heartsuit 4, \heartsuit 3, \heartsuit 2,\heartsuit Ass $ vorliegt, da hier das Ass als eins gezählt wird. Mit einem Wert von $5\cdot10^{9}$ wäre dies der schlechteste Streetflush.

Der Four of a Kind oder Vierling wird herausgefunden, in dem geschaut wird, ob die ersten vier Karten die gleiche Nummer haben und somit die letzte eine beliebige andere Karte ist, z.B für die Situation: $\clubsuit K,\diamondsuit K,\heartsuit K,\spadesuit K,\heartsuit 7$ oder ob die erste Karte beliebig ist und die anderen vier die gleiche Nummer besitzen, wie bei folgender Situation:$ \heartsuit Ass, \clubsuit K,\diamondsuit K,\heartsuit K,\spadesuit K$. Bewertet wird das ganze, in dem der Wert von einer der vier gleichen Karten mit $10^{8}$ multipliziert und der Wert der separaten Karte mit $10^{6}$ multipliziert, zusammen addiert werden. 
         
Das Fullhouse wird erkennt, in dem geprüft wird, ob zuerst 3 gleiche Karten vorliegen und danach noch ein Pair, wie hier: $\clubsuit K, \diamondsuit K,\spadesuit K, \clubsuit 3,\diamondsuit 3$ oder ob das Pair zuerst und dann der Drilling folgt wie hier: $\heartsuit K,\spadesuit K,\clubsuit J,\diamondsuit J,\heartsuit J$. Bewertet wird es in dem der Wert einer Drillingskarte mit $ 10^{7} $ multipliziert und das Paar mit $ 10^{5} $ multipliziert, zusammen summiert wird.  

Der Flush wird wie anfangs erwähnt aufgespührt, in dem nach 5 gleichen Farben gesucht wird. Ist dies der Fall, wird der Wert der wertvollsten Karte mit $ 10^{6} $ multipliziert. Der Wert der 2., 3., etc. wichtigsten Karte wird durch 10 bzw. 100 oder 1000
dividiert und die Summe dieser Quotienten mit $ 10^{4}$ multipliziert. Der ScoreWert wird dann errechnet, indem die beiden Werte wieder zusammengezählt werden. Die Divisionen der weniger wichtigen Karten werden benötigt, da beim Poker diese Karten erst zählen, wenn vorher exakt die gleichen Werte vorliegen. Würde man die Kartenwerte an sich zusammenzählen, hätte der Flush: $\heartsuit Ass, \heartsuit 10, \heartsuit 9, \heartsuit 8, \heartsuit 7$ mehr Wert, als der Flush: $ \diamondsuit Ass, \diamondsuit K, \diamondsuit 6, \diamondsuit 5, \diamondsuit 4$ . Da $ 14+10+9+8+7=48>42=14+13+6+5+4$.

Die Straight wird gefiltert, in dem auch wie beim Straight-Flush, bei jeder Karte überprüft wird, ob die nächste Karte genau den Wert um 1 weniger besitzt. Ist dies der Fall, wird der Wert der höchsten Karte mit $10^{5}$ multipliziert. Auch hier wird das Wheel extra getestet und in diesem Spezialfall die 5 als höchsten Wert genommen. 

Für den Drilling gibt es 3 verschiedene Möglichkeiten, dieser kann entweder am Anfang vorkommen, wie bei dieser Hand: $ \diamondsuit K, \heartsuit K, \spadesuit K, \clubsuit 10, \clubsuit 9$ , in der Mitte, wie hier: $ \diamondsuit Ass, \heartsuit K, \spadesuit K, \clubsuit K, \clubsuit 9$ , oder am Ende, wie bei folgender Hand: $ \diamondsuit Ass, \heartsuit K, \spadesuit D, \clubsuit D, \diamondsuit D$. Für die Bewertung wird der Wert einer Dreierkarte mit $ 10^{4} $ multipliziert und zusammen gezählt mit den beiden Nebenkarten, welche ihrer Wichtigkeit entsprechend bewertet und mit 100 multipliziert werden. 

Für 2 Paare verhält es sich genau gleich wie beim Drilling, es gibt auch 3 verschiedene Möglichkeiten, wo aber in diesem Fall die Beikarte sein kann. Die beiden Paarwerte werden je mit 100 multipliziert und zusammengezählt, dazu addiert wird noch der Wert der Beikarte.

Ein Paar hat 4 verschiedene Möglichkeiten in der Hand vorzukommen. Der Wert der Paarkarte wird mit 10 multipliziert und die Beikarten, ihrem Wert entsprechend dividiert, dazu addiert.

Falls alle diese Fälle nicht greifen, handelt es sich um eine Highcard-Hand. In diesem Fall wird der Wert der höchsten Karte genommen und ihrer Wichtigkeit entsprechende weitere Karten dividiert, wieder dazu gezählt. Eine der schlechtesten Hände wäre somit folgende: $ \clubsuit 7,\diamondsuit 5,\heartsuit 4,\diamondsuit 3,\diamondsuit, 2\spadesuit $.
\\ \\
So lässt sich der ScoreWert jeder Hand bestimmen, mit einigen Schleifen dazu, die beste Hand eines Spieler und danach die beste Hand am Tisch. Falls 2 oder mehr Spieler die Siegerhand haben, werden sie auch den gleichen ScoreWert haben. In diesem Fall wird der Pot auf die Sieger aufgeteilt.   

\section{Output}
Die Klasse Output ist dafür da, dass ich Ergebnisse aus dem ganzen Versuch kriege. In der Konsole wird zwar jeder Zug angezeigt, aber das manuell auszuwerten ist unmöglich. Als Output wird ein csv-file erstellt, dies hat den Vorteil, dass es sich mit Excel öffnen lässt. Ausgegeben werden für jeden Spieler folgende Daten: Spielername, Geld am Ende, die Anzahl gewonnener Pots, wie oft erhöht, geschoben und raus- oder mitgegangen wurde, Wie oft der Pre-Flop gefolded wurde($ PF $), die Anzahl teilgenommener Runden($ R $), die Tightness und der Winratio. Die Tightness wird wie folgt berechnet: $\frac{R-PF}{R}\cdot 100 $, sie gibt in Prozent an wie tight oder loose ein Spieler war. Der Winratio ist das Verhältnis von gewonnen Pots über den mitgegangen Runden, er gibt also an, wie oft der Pot geholt wurde, falls die Runde vom Spieler mitgespielt wurde. Als nächstes wird noch ein weiteres csv-file erstellt, in welchem der Geldbestand nach jeder Runde erfasst wird und danach mit Hilfe von Excel zu einer Kurve erstellt werden kann. 

\section{der Spieler}
Für die Spieler habe ich die Klasse Player1 definiert. Diese Klasse ist als Abstractklasse definiert, das heisst, sie kann mit Unterklassen erweitert werden. Die Unterklassen sind dann die verschiedenen Taktiken. Die Player1 Klasse enthält alle Elemente, die alle Taktiken als Spieler brauchen, wie die Funktionen um Züge auszuführen oder um bestimmte Karten zu erkennen. Hier werden ausserdem Werte für die Statistik gespeichert, wie z.B wie oft gefolded oder geraised wurde. Die Menge des vorhandenen Geldes und ob der Spieler noch in der Runde ist, wird hier auch festgehalten.

Die Spieler an sich haben alle eine ähnliche Grundstruktur, jede Wettrunde ist in zwei Bereiche aufgeteilt, den einen, in dem das Erhöhen noch möglich ist und den anderen in dem nicht mehr erhöht werden darf.
  
Der Stonekiller geht nur beim Pre-Flop mit, wenn beide Karten mindestens den Wert 10 haben oder er im Besitz eines Pocketpairs von mindestens 8 ist. Wenn er den Pre-Flop, spielt erhöht der Stonekiller um 100. Im Flop geht er bei folgenden Situationen mit: Falls er ein Pocketpair ohne Flushdrew (Ein Flush bei dem aber noch 1 Karte fehlt) auf dem Tisch hat, er das Top-Pair bilden kann(Paar mit Handkarte und höchster Tischkarte), falls ein Flush oder Flushdrew mit dem passenden suited Blatt vorliegt oder er eine Strasse bzw. ein Doubleend-Street-Draw hat (eine Strasse, bei der aber die vorderste oder hinterste Karte fehlt). Tritt eine dieser Situationen ein, erhöht der Spieler um 1200. Danach geht der Spieler nur noch mit bis zum Showdown.

Der Rock spielt den Pre-Flop ähnlich wie der Stonekiller nur noch bisschen konservativer, denn er geht erst mit ab einem Pocketpair von 9 oder wenn beide Karten mindestens ein Junge sind. Tritt diese Situation ein, erhöht er um 50. Den Flop geht der Rock nur mit (ohne zu erhöhen) falls der ScoreWert seiner Hand mehr als 25 beträgt. Danach geht auch dieser Spieler nur noch mit.

Der Maniac spielt den Pre-Flop eher loose in dem er mitgeht bei einem Poketpair ab 4 und wenn beide Karten mindestens den Wert 6 haben. Ist dies der Fall, erhöht er um 20. Den Flop spielt er zufällig in dem er eine Zufallszahl von null bis 10 erstellt. Hat er eine 10, dann folded er. Hat der Maniac eine 5 oder höher erhöht er um diese Zahl mit 10 multipliziert. Hat er eine Zahl von 0 bis 4, dann geht er nur mit. Die anderen Wettrunden called auch dieser Spieler nur noch.

Die Callingstation geht einfach immer mit.

\section{Meine Versuche}
Ich führe folgende Versuche mit meiner Software durch: Ich lasse jede Taktik im 1 gegen 1 bei verschiednen Blindes antreten und erstelle so eine Matrix in der man sieht, welche Taktik welche andere Taktik, bei welchen Blinds schlägt. Im Gegensatz zu einem echten Pokerspiel bleiben hier aber die Blindes stabil.  Zum anderen teste ich auch wie sich die Situation ändert, wenn weitere Spieler dabei sind. Die Spieler starten alle mit 6000 Chips und spielen entweder bis nur noch einer übrig bleibt oder 10000 Runden gespielt wurden. Die Blinds werden wie beim echten Poker bei jeder Runde von den nächsten Spielern in der Reihenfolge einkassiert. Der Bigblind ist der volle Bindeinsatz und der Smallblind immer die Hälfte davon.

\chapter{Ergebnisse}
\section{Matrix 1-vs-1}
Ich habe folgende Ergebnisse erzielt: Diese Matrix (Abb. \ref{Matrix1}) zeigt horizontal betrachtet welche Taktik gegen welche andere Taktik im 1 gegen 1 (Heads-up) gewinnt (grün) oder verliert(rot). Bei den Fällen, wo es auf die Blindsituation ankommt, ist dies vermerkt, also der Rock verliert immer gegen den Stonekiller und den Maniac, gewinnt aber solange der Blind unter 2 ist, gegen die Callingstation. Erstellt habe ich das, in dem ich  im Programm jede Taktik gegen jede bei verschiedenen Blinds spielen liess und die Daten zusammengetragen habe. Überraschend ist, dass die Callingstation nicht so schlecht ist wie erwartet, da sie gegen jede  andere Taktik ab einem Blind von 10 gewinnt. Als schlechteste Taktik hat sich der Rock herausgestellt, da er immer gegen den Stonekiller und den Maniac verliert und auch gegen die Callingstation wenn die Blinds höher als zwei sind. Zu erkennen ist auch, dass der Stonekiller nur leicht besser ist, da der Maniac gegen die Callingstation schon ab einem Blind von 2 verliert, im Gegensatz zum Stonekilller, der erst ab einem Blind von 10 verliert. 
\begin{figure}[h!]
\begin{center}
\includegraphics[width=\textwidth ]{TaktikTabelle.png}
\end{center}
\caption{Matrix aus den durchgeführten Versuchen}
\label{Matrix1}
\end{figure}

\section{Versuch alle 4 Spielweisen zusammen}
Die Statistiken für ein Spiel in dem die 4 Taktiken gegeneinander spielen sind wie folgt (Abb. \ref{Alle4}). Das sind auch in etwa die durchschnittlichen Werte der Tightness dieser Taktiken. Klar zu erkennen ist, dass die beiden passiven Spielweisen ihre tiefe Tightness haben, wie sie sollten. Der Maniac spielt durchschnittlich jedes zweite Blatt und die Callingstation, wie sie auch sollte, alle Blätter. Intressant ist, dass der Winratio von allen Taktiken sehr hoch ist und die Callingstation den grössten Wert hat. Der Rock und der Stonekiller haben in etwa die gleiche Chance den Pot zu gewinnen, wenn sie dann mal mitspielen. Der Maniac hat auch wie zu erwarten eine geringere Chance den Pot nach dem Showdown zu gewinnen.     
\begin{figure}[h!]
\begin{center}
\includegraphics[width=\textwidth ]{Alle4gegeneinadner.png}
\end{center}
\caption{Einige Daten aus den Statistiken beim Versuch: Alle 4 Spielweisen zusammen gegeneinander zu spielen}
\label{Alle4}
\end{figure}

Der Graph für den Spielverlauf (\ref{KurveAlle41}) stellt das momentane Vermögen der Spieler in Abhängigkeit zum Spielfortschritt dar. Bei diesem Versuch war der Blind bei 7. Als Vergleich habe ich den Versuch ein zweites Mal ausgeführt (\ref{KurveAlle42}) um festzustellen, ob ich das gleiche Ergebnis bekomme. Ganz allgemein sieht man einige Unterschiede. Beim zweiten Versuch ist es dem Stonekiller schon nach ca. 6'000 Runden gelungen zu gewinnen, im Gegensatz zum ersten Versuch, da hat nach 10'000 Runden der Stonekiller zwar die Führung, dennoch hat die Callingstation immer noch 1'000 Chips mehr als am Anfang. Trotzdem sieht es so aus, dass die Kurve weiter gehen würde und somit der Stonekiller nach ein paar weiteren tausend Runden gewinnen könnte. Die beiden Kurven haben aber auch sehr viele Ähnlichkeiten. In beiden verlieren zuerst der Rock und danach der Maniac und zwar relativ schnell. Auf beiden ist zu erkennen, dass die Callingstation am Anfang viel Geld verdient, aber sobald der Rock und der Maniac rausfliegen, die Callingstation beginnt Geld zu verlieren. Auch der Stonekiller verdient auf beiden Kurven grob betrachtet linear sein Geld. Im 2 Versuch lässt sich sogar erkennen, dass der Stonekiller ein wenig mehr Geld pro Runde verdient, wenn noch der Maniac mitspielt.  
\begin{figure}[htb]
\begin{center}
\includegraphics[width=\textwidth]{KurveAlle4.png}
\end{center}
\caption{Spielverlauf wenn alle 4 Taktiken zusammen spielen}
\label{KurveAlle41}
\end{figure}

\begin{figure}[htb]
\begin{center}
\includegraphics[width=\textwidth]{KurveAlle4_2.png}
\end{center}
\caption{Spielverlauf wenn alle 4 Taktiken zusammen spielen weiteres mal durchgeführt}
\label{KurveAlle42}
\end{figure} 

\section{Versuch mehrere gleiche Taktiken gegen eine andere}
\subsection{Stonekiller}
In diesem Versuch (Abb. \ref{SKvs5CSB15}) liess ich mehrere Callingstations zusammen gegen einen Stonekiller spielen, bei einen Blind von 15. Als Vergleich (Abb. \ref{SKvs1CSB10}) habe ich noch die Situation in der ein Stonekiller nur gegen eine Callingstation spielt bei einem Blind von 10. Wie bei Abb. \ref{Matrix1} schon entdeckt und bei (Abb. \ref{SKvs1CSB10}) zu sehen,  gewinnt die Callingstation alleine immer gegen den Stonekiller, bei einem Blind ab 10. Nun ist aber zu sehen, dass der Stonekiller sogar bei einem Blind von 15 gegen 5 Callingstations anfangs sehr rasch in Führung geht. Es ist sogar ganz knapp zu sehen, dass die Kurve jedes Mal wenn eine weitere Callingstation rausfliegt leicht abflacht. Klar ersichtlich ist aber, dass der Stonekiller so lange Geld verdient bis er nur noch eine Callingstation gegen sich hat. Ab dann verliert der Stonekiller stetig sein Geld, in etwa gleich wie bei der Situation in (Abb. \ref{SKvs1CSB10}). Zusammenfassend sieht man also, dass der Stonekiller gegen viele Callingstations zusammen gewinnt, aber am Ende, wenn er gegen die letzte alleine Spielen muss, verliert. 
\begin{figure}[htb]
\begin{center}
\includegraphics[width=\textwidth]{SKvs5CSB15.png}
\end{center}
\caption{Spielverlauf wenn ein Stonekiller gegen 5 Callingstations antritt bei einem Blind von 15}
\label{SKvs5CSB15}
\end{figure} 

\begin{figure}[htb]
\begin{center}
\includegraphics[width=\textwidth]{SKvs1CSB10.png}
\end{center}
\caption{Spielverlauf von einem Stonekiller gegen eine Callingstation antritt bei einem Blind von 10}
\label{SKvs1CSB10}
\end{figure}
 
\subsection{Rock}
Ähnliches ist auch beim Versuch (Abb. \ref{Rvs4CSB5}) zu beobachten, wenn der Rock gegen 4 Callingstations bei einem Blind von 5 antritt. Als Vergleich habe ich auch hier einen Versuch (Abb. \ref{Rvs1CSB3}) in dem der Rock gegen eine Callingstation antritt bei einem Blind von 3. Bei diesem Versuch (Abb. \ref{Rvs4CSB5}) kann man aber maximal erkennen, dass die Situation ausgeglichen ist und der Rock am Ende leicht in Führung liegt. Somit ist auch dieses Ergebniss überraschend, da der Rock ja laut (Abb. \ref{Matrix1}) gegen eine einzelne Callingstation bei einem Blind von 3 verliert.  

\begin{figure}[htb]
\begin{center}
\includegraphics[width=\textwidth]{Rvs4CSB5.png}
\end{center}
\caption{Spielverlauf wenn ein Rock gegen 4 Callingstations antritt bei einem Blind von 5}
\label{Rvs4CSB5}
\end{figure} 

\begin{figure}[htb]
\begin{center}
\includegraphics[width=\textwidth]{Rvs1CSB3.png}
\end{center}
\caption{Spielverlauf wenn ein Rock gegen 1 Callingstation antritt bei einem Blind von 3}
\label{Rvs1CSB3}
\end{figure}   

\chapter{Diskussion}
\section{Konnte ich mit meinen Monte Carlo Simulationen die Spielweisen von Jan Meinert verifizeren?}
Als erstes kann man sagen, dass mein Versuch funktioniert hat und es möglich ist, Pokerstrategien mit Monte Carlo Simulationen zu testen und zu analysieren. Als erstes ist festzuhalten, dass meine programmierten Taktiken sich so verhalten haben, wie es erwartet wurde. Wie in der Tabelle(Abb. \ref{Alle4}) zu sehen ist, spielen der Stonekiller und der Rock tight, der Maniac und die Callingstation loose. 
Ich konnte experimentell nachweisen (Abb. \ref{Matrix1}), dass die Spielertaktik Rock auf längere Sicht klar verliert. Dies entspricht auch der Sicht von Jan Meinert in seinem Buch. Bei mir konnte der Maniac keine grossen Erfolge erzielen, da in meinem Programm die psychologische Komponente nicht berücksichtigt wird und mein Maniac nach einem Regelwerk mit zufällig generierten Zahlen arbeitet. Des weiteren ist der Maniac nur rudimentär programmiert und laut Jan Meinert nur dann lukrativ, wenn man diese Taktik exakt auf die Spielweise der Gegner abstimmt. Zusätzlich konnte ich auch nachweisen (Abb. \ref{SKvs5CSB15}), dass auch ein einfacher Stonekiller bei vielen Gegnern eine sehr lukrative Spielweise ist. Somit kann ich auch hier Jan Meinert zustimmen, dass diese Taktik am besten für fortgeschrittene Pokerspieler geeignet ist.


\section{Wieso schneidet die Callingstation so gut ab?}
In der Matrix (Abb \ref{Matrix1}) ist zu sehen, dass die Blinds die Ergebnisse stark beeinflussen. Tighte Spielweisen profitieren von tiefen Blinds, da sie so viel geringere Verluste einfahren, wenn sie kein gutes Blatt haben. Spannend und sehr verwunderlich ist auch, dass die Callingstation hier sehr gut abschneidet, obwohl man mit dieser Taktik in einem echten Pokerturnier sehr schnell rausfliegen würde. Wie kommen also solche Ergebnisse zustande?
Die Erklärung sieht man am besten beim Versuch (Abb. \ref{SKvs5CSB15}) in dem der Stonekiller gegen 5 Callingstations spielte. Hier sieht man nämlich, dass der Stonekiller vor allem gegen mehrere Gegner sehr gut abschneidet, aber gegen einen alleine bei höheren Blinds keine Chance hat. Da der Stonekiller nur die sicheren Blätter spielt, hat er im Showdown die besten Chancen zu gewinnen,  sogar wenn mehrere Spieler bis zum Showdown mitgehen. Er profitiert am besten, wenn möglichst viele Spieler dabei sind, da er so von jedem dieser Spieler sein Gewinn bekommt. Dazu kommt noch, dass  bei mehreren Gegner weniger schnell wieder Blinds gezahlt werden müssen. Somit verliert der Stonekiller bei vielen Gegner auch nicht so schnell Geld durch die Blinds. 
Das heisst meine Matrix ist korrekt und somit auch die Chancen der Callingstation, aber nur in einer Heads-Up-Situation, also dem Finale. Denn eine Heads-Up-Situation unterscheidet sich doch ziemlich stark von den Runden mit vielen Gegnern, denn zum einen müssen beide abwechselnd den Small- und Bigblind bezahlen und zum anderen ist die Chance den Pot zu gewinnen bei 50\%, da nur noch 2 Spieler vorhanden sind. Das bedeutet, dass auch eine mittelmässige Hand oft die Siegerhand ist. Somit ist auch klar, dass die Callingstation in so einer Situation bei höheren Blinds im Vorteil liegt, gegen so eine tighte Spielweise wie der Rock. Da der Stonekiller seine Blindverluste nicht mehr durch seine hohen, aber dennoch selteneren Gewinne ausgleichen kann.   
Jan Meinert hatte also nicht Unrecht, in dem er sagte die Callingstation sei eine schlechte Spielweise, den bei vielen Gegnern am Tisch hat sie keine Chance. Hingegen bei einer Heads-Up-Situation mit hohen Blinds (was sie auch meist im Heads-Up sind), kann es dennoch von Vorteil sein gegen einen tighten Spieler so eine Spielweise einzusetzen.
Zusammenfassend lässt sich sagen, dass je mehr Spieler am Tisch sind, desto tighter sollte gespielt werden, aber auch looser wenn es weniger werden. Die Spielweise sollte also zwingend der Anzahl an Mitspielern angepasst werden.  

\section{die Grenzen meines Versuchs zur Realität und echten Pokerrunden}    
Obwohl mein Versuch einige spannende Ergebnisse zu Tage brachte, hat er trotzdem seine Grenzen zur Realität. Als erstes sind meine Taktiken sehr rudimentär und variieren nicht mit der Anzahl der Gegner, haben also nur entfernt Ähnlichkeiten zu echten Pokerstrategien. Beim realen Poker werden die Strategien permanent angepasst und neu abgestimmt, die Übergänge der verschiedenen Spielweisen sind in der Regel fliessend und bleiben nicht starr. 
Des Weiteren habe ich hier keine richtigen Bluffs, geschweige überhaupt eine psychologische Komponente integriert, welche im realen Poker sehr wichtig ist. Auch auf die Position am Tisch, mit der Entfernung zum Dealer Button, auf die es beim Poker auch ankommt, wurde nicht Rücksicht genommen.
Zum Schluss muss man sagen, dass sich 10'000 Runden, obwohl sie sich nach viel anhören, eine sehr niedrige Zahl ist für repräsentative Ergebnisse.
Am wichtigsten: Beim echten Poker erhöhen sich die Blinds nach einer vordefinierten Zeit! Ausserdem sind die Erhöhungen meiner Spielweisen nicht dynamisch abhängig von der Spielsituation, sondern in einem Regelwerk mit Parametern definiert.
 
\begin{thebibliography}{99}
\bibitem{diePokerschule} Jan Meinert:
\emph{Die Pokerschule}, 2007 Kanaur Verlag, 2018 Droemer Verlag
\bibitem{MonteCarloSimulation} riskNET.de:
\emph{https://www.risknet.de/wissen/rm-methoden/monte-carlo-simulation/}, 10.2019
\bibitem{AlexMeyer} Alex Meyer:
\emph{https://medium.com/@alexcmeyer/augmenting-thinking-54deff7735c5}, 10.2019
\bibitem{MeinGit} Kevin Kosch:
\emph{Mein Programm: https://github.com/kiv314/MA}, 10.2019
\bibitem{Pseudozufall} Wikipedia:
\emph{https://de.wikipedia.org/wiki/Pseudozufall}, 10.2019
\bibitem{Gluck1} Die Welt:
\emph{https://www.welt.de/vermischtes/article124138734/Pokern-gilt-nicht-per-se-als-Gluecksspiel.html}, 10.2019
\bibitem{Gluck2} Nadja Podbregar:
\emph{https://www.scinexx.de/news/technik/ki-gewinnt-gegen-pokerprofis/}, 10.2019
\end{thebibliography}

\chapter{Eigenständigskeitserklärung}
Ich erkläre hiermit, dass ich die vorliegende Arbeit selbstständig und nur unter Benutzung der angegebenen Quellen verfasst habe und ich auf eine eventuelle Mithilfe Dritter in der Arbeit ausdrücklich hinweise.

\end{document}
Â© 2019 GitHub, Inc.
Terms
Privacy
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
